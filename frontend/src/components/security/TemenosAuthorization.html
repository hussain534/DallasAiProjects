<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temenos Authorization - Role Based Access</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #ffffff;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
        }
        
        .container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            padding: 60px 40px 40px 120px;
            gap: 80px;
            align-items: flex-start;
        }
        
        .left-section {
            flex: 0 0 45%;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .right-section {
            flex: 0 0 45%;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-top: 30px;
        }
        
        .title-label {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            font-size: 18px;
            color: #000;
            z-index: 1000;
        }
        
        /* Left Section Styles */
        .icon-group {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .icon-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }
        
        .flow-box {
            border: 3px solid #9333ea;
            background: white;
            padding: 15px 25px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 16px;
            color: #9333ea;
            min-width: 150px;
            text-align: center;
        }
        
        .arrow-label {
            font-size: 14px;
            font-weight: bold;
            color: #000;
            margin: 5px 0;
        }
        
        .arrow-examples {
            font-size: 12px;
            color: #333;
            margin-left: 10px;
        }
        
        .list-section {
            margin-top: 30px;
        }
        
        .list-title {
            font-weight: bold;
            font-size: 14px;
            color: #000;
            margin-bottom: 10px;
        }
        
        .list-items {
            font-size: 13px;
            color: #333;
            line-height: 1.8;
        }
        
        /* Right Section Styles */
        .example-label {
            font-size: 16px;
            font-weight: bold;
            color: #000;
            margin-bottom: 20px;
        }
        
        .hierarchy-block {
            background: #1e3a8a;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            margin-bottom: 15px;
            min-width: 400px;
            position: relative;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .hierarchy-block::before {
            content: '';
            position: absolute;
            left: -25px;
            top: 0;
            bottom: -15px;
            width: 3px;
            background: #6b7280;
        }
        
        .hierarchy-block:first-child::before {
            display: none;
        }
        
        .hierarchy-block:not(:last-child)::after {
            content: '';
            position: absolute;
            left: -25px;
            bottom: -15px;
            width: 3px;
            height: 15px;
            background: #6b7280;
        }
        
        .padlock-icon {
            font-size: 24px;
            color: #6b7280;
        }
        
        .block-title {
            font-weight: bold;
            font-size: 15px;
            margin-bottom: 8px;
        }
        
        .block-examples {
            font-size: 13px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .block-icon {
            font-size: 20px;
            color: #6b7280;
            margin-left: auto;
        }
        
        /* Tooltip Styles */
        .tooltip {
            position: absolute;
            background: white;
            border: 2px solid #ff0000;
            border-radius: 8px;
            padding: 12px 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 10000;
            display: none;
            max-width: 500px;
            width: auto;
            min-width: 200px;
        }
        
        .tooltip.show {
            display: block;
        }
        
        .tooltip-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 8px;
            color: #000;
        }
        
        .tooltip-description {
            color: #333;
            font-size: 16px;
            line-height: 1.5;
            white-space: pre-line;
        }
        
        .clickable {
            cursor: pointer;
        }
        
        .action-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: #ff0000;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        
        .action-button:hover {
            background: #cc0000;
        }
    </style>
</head>
<body>
    <div class="title-label">Role Based Access</div>
    <div class="container">
        <!-- Left Section: Role-Based Access Model -->
        <div class="left-section">
            <!-- Flow Diagram and Bottom Lists Container -->
            <div style="display: flex; align-items: flex-start; gap: 30px; margin-top: 90px;">
                <!-- Bottom Lists -->
                <div class="list-section" style="margin-top: 0;">
                    <div class="list-title">User Groups:</div>
                    <div class="list-items">
                        Back-office Team,<br>
                        Front office team<br>
                        Audit Group.
                    </div>
                    
                    <div class="list-title" style="margin-top: 20px;">Actual users with profiles:</div>
                    <div class="list-items">
                        John Doe
                    </div>
                    
                    <div class="list-title" style="margin-top: 20px;">Role Based Access:</div>
                    <div class="list-items">
                        Payments Operator,<br>
                        Check Issuer,<br>
                        Wire Room Authorizer,<br>
                        Account Executive
                    </div>
                </div>
                
                <!-- Vertical Purple Line -->
                <div style="width: 4px; background-color: #9333ea; align-self: stretch; flex-shrink: 0;"></div>
                
                <!-- Flow Diagram -->
                <div style="position: relative;">
                    <!-- User Group Box with Icon -->
                    <div style="display: flex; align-items: center; gap: 40px; margin-bottom: 20px;">
                        <div class="icon-circle">üë•</div>
                        <div class="flow-box">User Group</div>
                    </div>
                    
                    <!-- Arrow to User -->
                    <div style="margin-left: 30px; margin-bottom: 10px;">
                        <div style="width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 15px solid #000; margin-bottom: 5px;"></div>
                        <div class="arrow-label">Properties</div>
                        <div class="arrow-examples">
                            Start Date/Time<br>
                            End Date/Time
                        </div>
                    </div>
                    
                    <!-- User Box with Icon -->
                    <div style="display: flex; align-items: center; gap: 40px; margin-bottom: 20px;">
                        <div class="icon-circle">üë§</div>
                        <div id="user-box" class="flow-box clickable" style="background: #ff0000; color: white;">User</div>
                    </div>
                    
                    <!-- Arrow to Role -->
                    <div style="margin-left: 30px; margin-bottom: 10px;">
                        <div style="width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-top: 15px solid #000; margin-bottom: 5px;"></div>
                        <div class="arrow-label">Access</div>
                        <div class="arrow-examples">
                            Belongs to US Entity,<br>
                            Can process Payments,<br>
                            Only Checks,<br>
                            Authorize Checks,<br>
                            Edit Ben. Account #
                        </div>
                    </div>
                    
                    <!-- Role Box with Icon -->
                    <div style="display: flex; align-items: center; gap: 40px;">
                        <div class="icon-circle">üîí</div>
                        <div id="role-box" class="flow-box clickable">Role</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Right Section: Hierarchical System Components -->
        <div id="right-section" class="right-section clickable">
            <div class="example-label">Example</div>
            
            <!-- ENTITY Block -->
            <div class="hierarchy-block">
                <span class="padlock-icon">üîí</span>
                <div style="flex: 1;">
                    <div class="block-title">ENTITY (Company)</div>
                    <div class="block-examples">
                        <span>Entity A</span>
                        <span>Entity B</span>
                    </div>
                </div>
                <span class="block-icon">üè¢</span>
            </div>
            
            <!-- PRODUCT Block -->
            <div class="hierarchy-block">
                <span class="padlock-icon">üîí</span>
                <div style="flex: 1;">
                    <div class="block-title">PRODUCT (Module)</div>
                    <div class="block-examples">
                        <span>Payments</span>
                        <span>Forex</span>
                    </div>
                </div>
                <span class="block-icon">‚äû</span>
            </div>
            
            <!-- SUB-PRODUCT Block -->
            <div class="hierarchy-block">
                <span class="padlock-icon">üîí</span>
                <div style="flex: 1;">
                    <div class="block-title">SUB-PRODUCT (Application)</div>
                    <div class="block-examples">
                        <span>ACH, Wires, Checks, Swift</span>
                        <span>Forex, Spot</span>
                    </div>
                </div>
                <span class="block-icon">üîç</span>
            </div>
            
            <!-- ACTIVITY Block -->
            <div class="hierarchy-block">
                <span class="padlock-icon">üîí</span>
                <div style="flex: 1;">
                    <div class="block-title">ACTIVITY (Function)</div>
                    <div class="block-examples" style="flex-direction: column; gap: 5px;">
                        <div>
                            <span>Create, Amend, View,</span><br>
                            <span>First Level Approval,</span><br>
                            <span>Second Level Approval</span>
                        </div>
                        <div>
                            <span>Creator, Authorizer,</span><br>
                            <span>Manager, Reviewer</span>
                        </div>
                    </div>
                </div>
                <span class="block-icon">üëÜ</span>
            </div>
            
            <!-- DATA Block -->
            <div class="hierarchy-block">
                <span class="padlock-icon">üîí</span>
                <div style="flex: 1;">
                    <div class="block-title">DATA (Fields)</div>
                    <div class="block-examples">
                        <span>Payment Amount, Beneficiary</span>
                    </div>
                </div>
                <span class="block-icon">üìÑ</span>
            </div>
        </div>
    </div>
    
    <!-- Tooltip Element -->
    <div id="tooltip" class="tooltip">
        <div class="tooltip-title" id="tooltip-title"></div>
        <div class="tooltip-description" id="tooltip-description"></div>
    </div>
    
    <script>
        // Tooltip Configuration
        const tooltips = [
            {
                id: 'right-section',
                title: 'Right Section',
                description: 'Access rights are defined and managed centrally by Bank\' administrators, allowing precise control over what users can view or do within the system. At the core, user roles determine access permissions, which can be configured to cover multiple levels including:\n\n1. Organization or business unit level (e.g., company or branch level), enabling Bank to restrict access to data and functions relevant only to specific legal entities or subsidiaries.\n\n2. Application or module level, controlling which banking products or services a user can access.\n\n3. Screen and menu levels, allowing fine-grained control over user interface elements and navigation options.\n\n4. Functional level, specifying allowed actions such as input, authorization, viewing, or deletion.\n\n5. Data element or field level, enabling restrictions on specific data fields or values, for example limiting transaction amounts or excluding certain account types',
                position: 'right'
            },
            {
                id: 'user-box',
                title: 'User',
                description: 'Each user profile contains a unique user identifier, password, language, and conditions.\n\nUser roles and permissions are managed within the solution, with role-based access control (RBAC) ensuring that users access only the data and functions authorized for their specific roles. After successful authentication, user identity and permissions are propagated via tokens, enabling consistent enforcement of access rights across all components and services. This identity propagation supports granular authorization at multiple levels, including company, application, API, screen, and field levels.',
                position: 'right'
            },
            {
                id: 'role-box',
                title: 'Role',
                description: 'So, permissions and rights are assigned to roles rather than directly to users.\n\nThus, a single role for the whole group of users who perform the same task.\n\nThis is mapped to the organizational structure so that the users can be assigned with a different role if they physically change their roles in the organization.',
                position: 'right'
            }
        ];
        
        const tooltip = document.getElementById('tooltip');
        const tooltipTitle = document.getElementById('tooltip-title');
        const tooltipDescription = document.getElementById('tooltip-description');
        
        function showTooltip(config, element) {
            tooltipTitle.textContent = config.title;
            tooltipDescription.textContent = config.description;
            tooltip.classList.add('show');
            
            setTimeout(function() {
                const rect = element.getBoundingClientRect();
                const containerRect = document.querySelector('.container').getBoundingClientRect();
                const tooltipRect = tooltip.getBoundingClientRect();
                
                let left, top;
                
                switch(config.position) {
                    case 'right':
                        left = rect.right + 15;
                        top = rect.top + (rect.height / 2) - (tooltipRect.height / 2);
                        break;
                    case 'left':
                        left = rect.left - tooltipRect.width - 15;
                        top = rect.top + (rect.height / 2) - (tooltipRect.height / 2);
                        break;
                    case 'top':
                        left = rect.left + (rect.width / 2) - (tooltipRect.width / 2);
                        top = rect.top - tooltipRect.height - 15;
                        break;
                    case 'bottom':
                    default:
                        left = rect.left + (rect.width / 2) - (tooltipRect.width / 2);
                        top = rect.bottom + 15;
                        break;
                }
                
                // Ensure tooltip stays within container bounds
                if (left < containerRect.left) {
                    left = containerRect.left + 10;
                }
                if (left + tooltipRect.width > containerRect.right) {
                    left = containerRect.right - tooltipRect.width - 10;
                }
                if (top < containerRect.top) {
                    top = containerRect.top + 10;
                }
                if (top + tooltipRect.height > containerRect.bottom - 80) {
                    top = containerRect.bottom - tooltipRect.height - 90;
                }
                
                tooltip.style.left = (left - containerRect.left) + 'px';
                tooltip.style.top = (top - containerRect.top) + 'px';
            }, 10);
        }
        
        function hideTooltip() {
            tooltip.classList.remove('show');
        }
        
        // Attach click handlers to all elements with tooltips
        tooltips.forEach(function(config) {
            const element = document.getElementById(config.id);
            if (element) {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (tooltip.classList.contains('show') && tooltipTitle.textContent === config.title) {
                        hideTooltip();
                    } else {
                        showTooltip(config, element);
                    }
                });
            }
        });
        
        // Hide tooltip when clicking outside
        document.addEventListener('click', function(e) {
            if (!tooltip.contains(e.target) && !e.target.classList.contains('clickable') && !e.target.closest('.clickable')) {
                hideTooltip();
            }
        });
    </script>
    
    <!-- Action Button -->
    <button class="action-button" onclick="window.parent.postMessage({type: 'showUserManagement'}, '*')">Move to User Management Explanation</button>
</body>
</html>

